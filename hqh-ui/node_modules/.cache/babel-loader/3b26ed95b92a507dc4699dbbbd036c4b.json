{"ast":null,"code":"export default {\n  data() {\n    return {\n      isLogin: false,\n      emailError: false,\n      passwordError: false,\n      existed: false,\n      form: {\n        username: '',\n        useremail: '',\n        userpwd: ''\n      }\n    };\n  },\n\n  methods: {\n    changeType() {\n      this.isLogin = !this.isLogin;\n      this.form.username = '';\n      this.form.useremail = '';\n      this.form.userpwd = '';\n    },\n\n    login() {\n      const self = this;\n\n      if (self.form.useremail != \"\" && self.form.userpwd != \"\") {\n        self.$axios({\n          method: 'post',\n          url: 'http://127.0.0.1:10520/api/user/login',\n          data: {\n            email: self.form.useremail,\n            password: self.form.userpwd\n          }\n        }).then(res => {\n          switch (res.data) {\n            case 0:\n              alert(\"登陆成功！\");\n              break;\n\n            case -1:\n              this.emailError = true;\n              break;\n\n            case 1:\n              this.passwordError = true;\n              break;\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      } else {\n        alert(\"填写不能为空！\");\n      }\n    },\n\n    register() {\n      const self = this;\n\n      if (self.form.username != \"\" && self.form.useremail != \"\" && self.form.userpwd != \"\") {\n        self.$axios({\n          method: 'post',\n          url: 'http://127.0.0.1:10520/api/user/add',\n          data: {\n            username: self.form.username,\n            email: self.form.useremail,\n            password: self.form.userpwd\n          }\n        }).then(res => {\n          switch (res.data) {\n            case 0:\n              alert(\"注册成功！\");\n              this.login();\n              break;\n\n            case -1:\n              this.existed = true;\n              break;\n          }\n        }).catch(err => {\n          console.log(err);\n        });\n      } else {\n        alert(\"填写不能为空！\");\n      }\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4CC,eAAc;AACbA,MAAI,GAAE;AACL,WAAO;AACNC,aAAO,EAAC,KADF;AAENC,gBAAU,EAAE,KAFN;AAGNC,mBAAa,EAAE,KAHT;AAINC,aAAO,EAAE,KAJH;AAKNC,UAAI,EAAC;AACJC,gBAAQ,EAAC,EADL;AAEJC,iBAAS,EAAC,EAFN;AAGJC,eAAO,EAAC;AAHJ;AALC,KAAP;AAWA,GAbY;;AAcbC,SAAO,EAAC;AACPC,cAAU,GAAG;AACZ,WAAKT,OAAL,GAAe,CAAC,KAAKA,OAArB;AACA,WAAKI,IAAL,CAAUC,QAAV,GAAqB,EAArB;AACA,WAAKD,IAAL,CAAUE,SAAV,GAAsB,EAAtB;AACA,WAAKF,IAAL,CAAUG,OAAV,GAAoB,EAApB;AACA,KANM;;AAOPG,SAAK,GAAG;AACP,YAAMC,IAAG,GAAI,IAAb;;AACA,UAAIA,IAAI,CAACP,IAAL,CAAUE,SAAV,IAAuB,EAAvB,IAA6BK,IAAI,CAACP,IAAL,CAAUG,OAAV,IAAqB,EAAtD,EAA0D;AACzDI,YAAI,CAACC,MAAL,CAAY;AACXC,gBAAM,EAAC,MADI;AAEXC,aAAG,EAAE,uCAFM;AAGXf,cAAI,EAAE;AACLgB,iBAAK,EAAEJ,IAAI,CAACP,IAAL,CAAUE,SADZ;AAELU,oBAAQ,EAAEL,IAAI,CAACP,IAAL,CAAUG;AAFf;AAHK,SAAZ,EAQCU,IARD,CAQOC,GAAE,IAAK;AACb,kBAAOA,GAAG,CAACnB,IAAX;AACC,iBAAK,CAAL;AACCoB,mBAAK,CAAC,OAAD,CAAL;AACA;;AACD,iBAAK,CAAC,CAAN;AACC,mBAAKlB,UAAL,GAAkB,IAAlB;AACA;;AACD,iBAAK,CAAL;AACC,mBAAKC,aAAL,GAAqB,IAArB;AACA;AATF;AAWA,SApBD,EAqBCkB,KArBD,CAqBQC,GAAE,IAAK;AACdC,iBAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,SAvBD;AAwBD,OAzBA,MAyBM;AACLF,aAAK,CAAC,SAAD,CAAL;AACD;AACA,KArCM;;AAsCPK,YAAQ,GAAE;AACT,YAAMb,IAAG,GAAI,IAAb;;AACA,UAAGA,IAAI,CAACP,IAAL,CAAUC,QAAV,IAAsB,EAAtB,IAA4BM,IAAI,CAACP,IAAL,CAAUE,SAAV,IAAuB,EAAnD,IAAyDK,IAAI,CAACP,IAAL,CAAUG,OAAV,IAAqB,EAAjF,EAAoF;AACnFI,YAAI,CAACC,MAAL,CAAY;AACXC,gBAAM,EAAC,MADI;AAEXC,aAAG,EAAE,qCAFM;AAGXf,cAAI,EAAE;AACLM,oBAAQ,EAAEM,IAAI,CAACP,IAAL,CAAUC,QADf;AAELU,iBAAK,EAAEJ,IAAI,CAACP,IAAL,CAAUE,SAFZ;AAGLU,oBAAQ,EAAEL,IAAI,CAACP,IAAL,CAAUG;AAHf;AAHK,SAAZ,EASCU,IATD,CASOC,GAAE,IAAK;AACb,kBAAOA,GAAG,CAACnB,IAAX;AACC,iBAAK,CAAL;AACCoB,mBAAK,CAAC,OAAD,CAAL;AACA,mBAAKT,KAAL;AACA;;AACD,iBAAK,CAAC,CAAN;AACC,mBAAKP,OAAL,GAAe,IAAf;AACA;AAPF;AASA,SAnBD,EAoBCiB,KApBD,CAoBQC,GAAE,IAAK;AACdC,iBAAO,CAACC,GAAR,CAAYF,GAAZ;AACA,SAtBD;AAuBD,OAxBA,MAwBO;AACNF,aAAK,CAAC,SAAD,CAAL;AACD;AACD;;AAnEO;AAdK,CAAd","names":["data","isLogin","emailError","passwordError","existed","form","username","useremail","userpwd","methods","changeType","login","self","$axios","method","url","email","password","then","res","alert","catch","err","console","log","register"],"sourceRoot":"","sources":["C:\\Users\\贺启衡\\Desktop\\hqh\\ssm\\hqh-ui\\src\\components\\login\\index.vue"],"sourcesContent":["<template>\r\n<body>\r\n\t<div class=\"login-register\">\r\n\t\t<div class=\"contain\">\r\n\t\t\t<div class=\"big-box\" :class=\"{active:isLogin}\">\r\n\t\t\t\t<div class=\"big-contain\" v-if=\"isLogin\">\r\n\t\t\t\t\t<div class=\"btitle\">账户登录</div>\r\n\t\t\t\t\t<div class=\"bform\">\r\n\t\t\t\t\t\t<input type=\"email\" placeholder=\"邮箱\" v-model=\"form.useremail\">\r\n\t\t\t\t\t\t<span class=\"errTips\" v-if=\"emailError\">* 邮箱填写错误 *</span>\r\n\t\t\t\t\t\t<input type=\"password\" placeholder=\"密码\" v-model=\"form.userpwd\">\r\n\t\t\t\t\t\t<span class=\"errTips\" v-if=\"emailError\">* 密码填写错误 *</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button class=\"bbutton\" @click=\"login\">登录</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"big-contain\" v-else>\r\n\t\t\t\t\t<div class=\"btitle\">创建账户</div>\r\n\t\t\t\t\t<div class=\"bform\">\r\n\t\t\t\t\t\t<input type=\"text\" placeholder=\"用户名\" v-model=\"form.username\">\r\n\t\t\t\t\t\t<span class=\"errTips\" v-if=\"existed\">* 用户名已经存在！ *</span>\r\n\t\t\t\t\t\t<input type=\"email\" placeholder=\"邮箱\" v-model=\"form.useremail\">\r\n\t\t\t\t\t\t<input type=\"password\" placeholder=\"密码\" v-model=\"form.userpwd\">\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button class=\"bbutton\" @click=\"register\">注册</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"small-box\" :class=\"{active:isLogin}\">\r\n\t\t\t\t<div class=\"small-contain\" v-if=\"isLogin\">\r\n\t\t\t\t\t<div class=\"stitle\">你好，朋友!</div>\r\n\t\t\t\t\t<p class=\"scontent\">开始注册，和我们一起旅行</p>\r\n\t\t\t\t\t<button class=\"sbutton\" @click=\"changeType\">注册</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"small-contain\" v-else>\r\n\t\t\t\t\t<div class=\"stitle\">欢迎回来!</div>\r\n\t\t\t\t\t<p class=\"scontent\">与我们保持联系，请登录你的账户</p>\r\n\t\t\t\t\t<button class=\"sbutton\" @click=\"changeType\">登录</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n  </body>\r\n</template>\r\n\r\n<script>\r\n\texport default{\r\n\t\tdata(){\r\n\t\t\treturn {\r\n\t\t\t\tisLogin:false,\r\n\t\t\t\temailError: false,\r\n\t\t\t\tpasswordError: false,\r\n\t\t\t\texisted: false,\r\n\t\t\t\tform:{\r\n\t\t\t\t\tusername:'',\r\n\t\t\t\t\tuseremail:'',\r\n\t\t\t\t\tuserpwd:''\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tchangeType() {\r\n\t\t\t\tthis.isLogin = !this.isLogin\r\n\t\t\t\tthis.form.username = ''\r\n\t\t\t\tthis.form.useremail = ''\r\n\t\t\t\tthis.form.userpwd = ''\r\n\t\t\t},\r\n\t\t\tlogin() {\r\n\t\t\t\tconst self = this;\r\n\t\t\t\tif (self.form.useremail != \"\" && self.form.userpwd != \"\") {\r\n\t\t\t\t\tself.$axios({\r\n\t\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\t\turl: 'http://127.0.0.1:10520/api/user/login',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\temail: self.form.useremail,\r\n\t\t\t\t\t\t\tpassword: self.form.userpwd\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then( res => {\r\n\t\t\t\t\t\tswitch(res.data){\r\n\t\t\t\t\t\t\tcase 0: \r\n\t\t\t\t\t\t\t\talert(\"登陆成功！\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase -1:\r\n\t\t\t\t\t\t\t\tthis.emailError = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t\tthis.passwordError = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch( err => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t})\r\n\t\t\t\t} else{\r\n\t\t\t\t\talert(\"填写不能为空！\");\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tregister(){\r\n\t\t\t\tconst self = this;\r\n\t\t\t\tif(self.form.username != \"\" && self.form.useremail != \"\" && self.form.userpwd != \"\"){\r\n\t\t\t\t\tself.$axios({\r\n\t\t\t\t\t\tmethod:'post',\r\n\t\t\t\t\t\turl: 'http://127.0.0.1:10520/api/user/add',\r\n\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\tusername: self.form.username,\r\n\t\t\t\t\t\t\temail: self.form.useremail,\r\n\t\t\t\t\t\t\tpassword: self.form.userpwd\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then( res => {\r\n\t\t\t\t\t\tswitch(res.data){\r\n\t\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\t\talert(\"注册成功！\");\r\n\t\t\t\t\t\t\t\tthis.login();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase -1:\r\n\t\t\t\t\t\t\t\tthis.existed = true;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch( err => {\r\n\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert(\"填写不能为空！\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style scoped=\"scoped\">\r\nbody{\r\n  background:  white;\r\n}\r\n\t.login-register{\r\n\t\twidth: 100vw;\r\n\t\theight: 100vh;\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\t.contain{\r\n\t\twidth: 60%;\r\n\t\theight: 60%;\r\n\t\tposition: relative;\r\n\t\ttop: 50%;\r\n\t\tleft: 50%;\r\n\t\ttransform: translate(-50%,-50%);\r\n\t\tbackground-color: #53a8ff;\r\n\t\tborder-radius: 20px;\r\n\t\tbox-shadow: 0 0 3px #53a8ff,\r\n\t\t\t\t\t0 0 6px #53a8ff;\r\n\t}\r\n\t.big-box{\r\n\t\twidth: 70%;\r\n\t\theight: 100%;\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 30%;\r\n\t\ttransform: translateX(0%);\r\n\t\ttransition: all 1s;\r\n\t}\r\n\t.big-contain{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.btitle{\r\n\t\tfont-size: 1.5em;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #53a8ff;\r\n\t}\r\n\t.bform{\r\n\t\twidth: 100%;\r\n\t\theight: 40%;\r\n\t\tpadding: 2em 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: space-around;\r\n\t\talign-items: center;\r\n\t}\r\n\t.bform .errTips{\r\n\t\tdisplay: block;\r\n\t\twidth: 50%;\r\n\t\ttext-align: left;\r\n\t\tcolor: red;\r\n\t\tfont-size: 0.7em;\r\n\t\tmargin-left: 1em;\r\n\t}\r\n\t.bform input{\r\n\t\twidth: 50%;\r\n\t\theight: 30px;\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\tborder-radius: 10px;\r\n\t\tpadding-left: 2em;\r\n\t\tbackground-color: #f0f0f0;\r\n\t}\r\n\t.bbutton{\r\n\t\twidth: 20%;\r\n\t\theight: 40px;\r\n\t\tborder-radius: 24px;\r\n\t\tborder: none;\r\n\t\toutline: none;\r\n\t\tbackground-color: #53a8ff;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 0.9em;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.small-box{\r\n\t\twidth: 30%;\r\n\t\theight: 100%;\r\n\t\tbackground: linear-gradient(135deg,#53a8ff,#53a8ff);\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\ttransform: translateX(0%);\r\n\t\ttransition: all 1s;\r\n\t\tborder-top-left-radius: inherit;\r\n\t\tborder-bottom-left-radius: inherit;\r\n\t}\r\n\t.small-contain{\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t.stitle{\r\n\t\tfont-size: 1.5em;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #fff;\r\n\t}\r\n\t.scontent{\r\n\t\tfont-size: 0.8em;\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\tpadding: 2em 4em;\r\n\t\tline-height: 1.7em;\r\n\t}\r\n\t.sbutton{\r\n\t\twidth: 60%;\r\n\t\theight: 40px;\r\n\t\tborder-radius: 24px;\r\n\t\tborder: 1px solid #fff;\r\n\t\toutline: none;\r\n\t\tbackground-color: transparent;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 0.9em;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t\r\n\t.big-box.active{\r\n\t\tleft: 0;\r\n\t\ttransition: all 0.5s;\r\n\t}\r\n\t.small-box.active{\r\n\t\tleft: 100%;\r\n\t\tborder-top-left-radius: 0;\r\n\t\tborder-bottom-left-radius: 0;\r\n\t\tborder-top-right-radius: inherit;\r\n\t\tborder-bottom-right-radius: inherit;\r\n\t\ttransform: translateX(-100%);\r\n\t\ttransition: all 1s;\r\n\t}\r\n</style>"]},"metadata":{},"sourceType":"module"}