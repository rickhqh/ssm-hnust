{"ast":null,"code":"import { ElMessage } from \"element-plus\";\nexport default {\n  name: \"login\",\n\n  data() {\n    return {\n      // 用户信息\n      user: {\n        userName: \"admin\",\n        password: \"111111\"\n      },\n      rules: {\n        userName: [{\n          required: true,\n          message: \"用户名不能为空\",\n          trigger: \"blur\"\n        }, {\n          min: 3,\n          max: 10,\n          message: \"用户名的长度必须是3到10\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"密码不能为空\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n\n  methods: {\n    doLogin() {\n      this.$refs.user.validate(valid => {\n        if (valid) {\n          // 他里边的代码是异步的\n          this.$store.dispatch(\"LOGIN\", this.user).then(res => {\n            console.log(res);\n\n            if (res.status === 200) {\n              this.$store.dispatch(\"GET_INFO\").then(() => {\n                this.$router.push({\n                  name: \"main\"\n                });\n              });\n            }\n          });\n        } else {\n          ElMessage(\"您的数据不合法\");\n        }\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAqCA,SAASA,SAAT,QAA0B,cAA1B;AAEA,eAAe;AACbC,MAAI,EAAE,OADO;;AAEbC,MAAI,GAAG;AACL,WAAO;AACL;AACAC,UAAI,EAAE;AACJC,gBAAQ,EAAE,OADN;AAEJC,gBAAQ,EAAE;AAFN,OAFD;AAMLC,WAAK,EAAE;AACLF,gBAAQ,EAAE,CACR;AACEG,kBAAQ,EAAE,IADZ;AAEEC,iBAAO,EAAE,SAFX;AAGEC,iBAAO,EAAE;AAHX,SADQ,EAMR;AACEC,aAAG,EAAE,CADP;AAEEC,aAAG,EAAE,EAFP;AAGEH,iBAAO,EAAE,eAHX;AAIEC,iBAAO,EAAE;AAJX,SANQ,CADL;AAcLJ,gBAAQ,EAAE,CACR;AACEE,kBAAQ,EAAE,IADZ;AAEEC,iBAAO,EAAE,QAFX;AAGEC,iBAAO,EAAE;AAHX,SADQ;AAdL;AANF,KAAP;AA6BD,GAhCY;;AAiCbG,SAAO,EAAE;AACPC,WAAO,GAAG;AACR,WAAKC,KAAL,CAAWX,IAAX,CAAgBY,QAAhB,CAA0BC,KAAD,IAAW;AAClC,YAAIA,KAAJ,EAAW;AACT;AACA,eAAKC,MAAL,CAAYC,QAAZ,CAAqB,OAArB,EAA8B,KAAKf,IAAnC,EAAyCgB,IAAzC,CAA+CC,GAAD,IAAS;AACrDC,mBAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,gBAAIA,GAAG,CAACG,MAAJ,KAAe,GAAnB,EAAwB;AACtB,mBAAKN,MAAL,CAAYC,QAAZ,CAAqB,UAArB,EAAiCC,IAAjC,CAAsC,MAAM;AAC1C,qBAAKK,OAAL,CAAaC,IAAb,CAAkB;AAAExB,sBAAI,EAAE;AAAR,iBAAlB;AACD,eAFD;AAGF;AACD,WAPD;AAQF,SAVA,MAUO;AACLD,mBAAS,CAAC,SAAD,CAAT;AACF;AACD,OAdD;AAeD;;AAjBM;AAjCI,CAAf","names":["ElMessage","name","data","user","userName","password","rules","required","message","trigger","min","max","methods","doLogin","$refs","validate","valid","$store","dispatch","then","res","console","log","status","$router","push"],"sourceRoot":"","sources":["C:\\Users\\贺启衡\\Desktop\\hqh\\ssm\\hqh-ui\\src\\components\\login\\index.vue"],"sourcesContent":["<template>\r\n  <el-container>\r\n    <el-aside width=\"70%\" height=\"100%\"\r\n      ><el-image\r\n        fit=\"fill\"\r\n        src=\"https://api.ixiaowai.cn/mcapi/mcapi.php\"\r\n      ></el-image\r\n    ></el-aside>\r\n    <el-main width=\"30%\">\r\n      <el-card class=\"box-card login-card\">\r\n        <span class=\"login-title\">元动力后台管理系统</span>\r\n        <span class=\"login-tip\">welcome 欢迎登陆</span>\r\n        <el-form ref=\"user\" :model=\"user\" label-width=\"80px\" :rules=\"rules\">\r\n          <el-form-item label=\"用户名\" prop=\"userName\">\r\n            <el-input\r\n              v-model=\"user.userName\"\r\n              placeholder=\"请输入用户\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\" prop=\"password\">\r\n            <el-input\r\n              v-model=\"user.password\"\r\n              type=\"password\"\r\n              placeholder=\"请输入密码\"\r\n              show-password\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item>\r\n            <el-button type=\"primary\" @click=\"doLogin\">登陆</el-button>\r\n          </el-form-item>\r\n        </el-form>\r\n      </el-card>\r\n    </el-main>\r\n  </el-container>\r\n</template>\r\n\r\n<script>\r\nimport { ElMessage } from \"element-plus\";\r\n\r\nexport default {\r\n  name: \"login\",\r\n  data() {\r\n    return {\r\n      // 用户信息\r\n      user: {\r\n        userName: \"admin\",\r\n        password: \"111111\",\r\n      },\r\n      rules: {\r\n        userName: [\r\n          {\r\n            required: true,\r\n            message: \"用户名不能为空\",\r\n            trigger: \"blur\",\r\n          },\r\n          {\r\n            min: 3,\r\n            max: 10,\r\n            message: \"用户名的长度必须是3到10\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n        password: [\r\n          {\r\n            required: true,\r\n            message: \"密码不能为空\",\r\n            trigger: \"blur\",\r\n          },\r\n        ],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    doLogin() {\r\n      this.$refs.user.validate((valid) => {\r\n        if (valid) {\r\n          // 他里边的代码是异步的\r\n          this.$store.dispatch(\"LOGIN\", this.user).then((res) => {\r\n            console.log(res);\r\n            if (res.status === 200) {\r\n              this.$store.dispatch(\"GET_INFO\").then(() => {\r\n                this.$router.push({ name: \"main\" });\r\n              });\r\n            }\r\n          });\r\n        } else {\r\n          ElMessage(\"您的数据不合法\");\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scope>\r\n.el-image {\r\n  height: 885px;\r\n  width: 750px;\r\n}\r\n.el-main {\r\n  position: relative;\r\n}\r\n.login-card {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  margin: auto;\r\n  width: 480px;\r\n  height: 400px;\r\n  padding: 50px;\r\n}\r\n.login-title {\r\n  width: 459px;\r\n  height: 70px;\r\n  font-size: 40px;\r\n  font-family: AlibabaPuHuiTiB;\r\n  color: #333333;\r\n  line-height: 90px;\r\n  letter-spacing: 1px;\r\n  font-weight: 800;\r\n  display: block;\r\n  text-align: left;\r\n}\r\n.login-tip {\r\n  width: 319px;\r\n  height: 70px;\r\n  font-size: 30px;\r\n  font-family: PingFangSC-Regular, PingFang SC;\r\n  font-weight: 400;\r\n  color: #999999;\r\n  line-height: 90px;\r\n  letter-spacing: 1px;\r\n  display: block;\r\n  text-align: left;\r\n  margin-bottom: 30px;\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}