{"ast":null,"code":"import { ref } from \"vue\";\nimport { listUser } from \"@/api/user.js\";\nimport { onMounted } from \"vue\";\nexport default {\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const user = ref({\n      username: \"\",\n      password_: \"\",\n      realname: \"\",\n      class_: \"\"\n    });\n    const tableData = ref([]);\n    const total = ref(0);\n    const pageSize = ref(3);\n    const page = ref(0);\n\n    const getList = function (option) {\n      listUser(option).then(res => {\n        tableData.value = res.data.content;\n        total.value = res.data.totalElements;\n        pageSize.value = res.data.size;\n      });\n    };\n\n    onMounted(() => {\n      getList({\n        page: page.value,\n        size: pageSize.value\n      });\n    });\n\n    const changePage = async function (current) {\n      page.value = current - 1;\n      getList({\n        page: page.value,\n        size: pageSize.value\n      });\n    };\n\n    const __returned__ = {\n      user,\n      tableData,\n      total,\n      pageSize,\n      page,\n      getList,\n      changePage,\n      ref,\n      listUser,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AA2FA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,SAASC,SAAT,QAA0B,KAA1B;;;;;;AAGA,UAAMC,IAAI,GAAGH,GAAG,CAAC;AACfI,cAAQ,EAAE,EADK;AAEfC,eAAS,EAAE,EAFI;AAGfC,cAAQ,EAAE,EAHK;AAIfC,YAAM,EAAE;AAJO,KAAD,CAAhB;AAQA,UAAMC,SAAS,GAAGR,GAAG,CAAC,EAAD,CAArB;AACA,UAAMS,KAAK,GAAGT,GAAG,CAAC,CAAD,CAAjB;AACA,UAAMU,QAAQ,GAACV,GAAG,CAAC,CAAD,CAAlB;AACA,UAAMW,IAAI,GAACX,GAAG,CAAC,CAAD,CAAd;;AAEA,UAAMY,OAAO,GAAE,UAASC,MAAT,EAAgB;AAC7BZ,cAAQ,CAACY,MAAD,CAAR,CAAiBC,IAAjB,CAAuBC,GAAD,IAAS;AAC7BP,iBAAS,CAACQ,KAAV,GAAkBD,GAAG,CAACE,IAAJ,CAASC,OAA3B;AACAT,aAAK,CAACO,KAAN,GAAYD,GAAG,CAACE,IAAJ,CAASE,aAArB;AACAT,gBAAQ,CAACM,KAAT,GAAeD,GAAG,CAACE,IAAJ,CAASG,IAAxB;AACD,OAJD;AAKD,KAND;;AAOAlB,aAAS,CAAC,MAAM;AACdU,aAAO,CAAC;AAACD,YAAI,EAACA,IAAI,CAACK,KAAX;AAAiBI,YAAI,EAACV,QAAQ,CAACM;AAA/B,OAAD,CAAP;AACD,KAFQ,CAAT;;AAGA,UAAMK,UAAU,GAAC,gBAAeC,OAAf,EAAuB;AACtCX,UAAI,CAACK,KAAL,GAAWM,OAAO,GAAC,CAAnB;AACAV,aAAO,CAAC;AAACD,YAAI,EAACA,IAAI,CAACK,KAAX;AAAiBI,YAAI,EAACV,QAAQ,CAACM;AAA/B,OAAD,CAAP;AACD,KAHD","names":["ref","listUser","onMounted","user","username","password_","realname","class_","tableData","total","pageSize","page","getList","option","then","res","value","data","content","totalElements","size","changePage","current"],"sources":["C:/Users/贺启衡/Desktop/hqh/ssm/hqh-ui/src/components/user/index.vue"],"sourcesContent":["<template>\r\n  <el-container>\r\n    <el-header>Header</el-header>\r\n    <el-main>\r\n      <el-form\r\n        :model=\"user\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n        size=\"mini\"\r\n      >\r\n        <el-row>\r\n          <el-col span=\"9\">\r\n            <el-form-item label=\"账号\">\r\n              <el-input v-model=\"user.username\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col span=\"9\">\r\n            <el-form-item label=\"姓名\">\r\n              <el-input v-model=\"user.realname\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col span=\"6\">\r\n            <el-row>\r\n              <el-button\r\n                type=\"primary\"\r\n                @click=\"submitForm\"\r\n                icon=\"el-icon-search\"\r\n                >查询</el-button\r\n              >\r\n              <el-button\r\n                type=\"warning\"\r\n                @click=\"resetForm\"\r\n                icon=\"el-icon-search\"\r\n                plain\r\n                >重置</el-button\r\n              >\r\n            </el-row>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row>\r\n          <el-col span=\"9\">\r\n            <el-form-item label=\"密码\">\r\n              <el-input v-model=\"user.password_\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col span=\"9\">\r\n            <el-form-item label=\"班级\">\r\n              <el-input v-model=\"user.class_\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col span=\"6\">\r\n            <el-button\r\n              type=\"danger\"\r\n              @click=\"addForm\"\r\n              icon=\"el-icon-search\"\r\n              plain\r\n              >添加</el-button\r\n            >\r\n            <el-button\r\n              type=\"success\"\r\n              @click=\"updateForm\"\r\n              icon=\"el-icon-search\"\r\n              plain\r\n              >修改</el-button\r\n            >\r\n          </el-col>\r\n        </el-row>\r\n      </el-form>\r\n      <el-table\r\n        ref=\"tableRef\"\r\n        row-key=\"username\"\r\n        :data=\"tableData\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column prop=\"userName\" label=\"账号\" />\r\n        <el-table-column prop=\"nickName\" label=\"昵称\" />\r\n        <el-table-column prop=\"professional\" label=\"专业\" />\r\n        <el-table-column prop=\"sclass\" label=\"班级\" />\r\n        <el-table-column prop=\"email\" label=\"邮箱\" />\r\n        <el-table-column prop=\"phonenumber\" label=\"电话号码\" />\r\n      </el-table>\r\n    </el-main>\r\n\r\n    <h1>这是{{ currentPage }}</h1>\r\n    <el-footer>\r\n      <el-pagination background layout=\"prev, pager, next\" :total=\"total\" :page-size=\"pageSize\" @current-change=\"changePage\"/>\r\n    </el-footer>\r\n  </el-container>\r\n</template>\r\n\r\n<script  setup>\r\nimport { ref } from \"vue\";\r\nimport { listUser } from \"@/api/user.js\";\r\nimport { onMounted } from \"vue\";\r\n\r\n\r\nconst user = ref({\r\n  username: \"\",\r\n  password_: \"\",\r\n  realname: \"\",\r\n  class_: \"\",\r\n});\r\n\r\n\r\nconst tableData = ref([]);\r\nconst total = ref(0);\r\nconst pageSize=ref(3);\r\nconst page=ref(0);\r\n\r\nconst getList= function(option){\r\n  listUser(option).then((res) => {\r\n    tableData.value = res.data.content;\r\n    total.value=res.data.totalElements;\r\n    pageSize.value=res.data.size;\r\n  });\r\n}\r\nonMounted(() => {\r\n  getList({page:page.value,size:pageSize.value});\r\n});\r\nconst changePage=async function(current){\r\n  page.value=current-1;\r\n  getList({page:page.value,size:pageSize.value});\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}