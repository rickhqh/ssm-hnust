{"ast":null,"code":"import { ref } from \"vue\";\nimport { listUser } from \"@/api/user.js\";\nimport { onMounted } from \"vue\";\nexport default {\n  setup(__props, {\n    expose\n  }) {\n    expose();\n    const queryParem = ref({\n      size: 3,\n      page: 0,\n      userName: \"\",\n      nickName: \"\",\n      sclass: \"\",\n      phonenumber: \"\",\n      professional: \"\",\n      email: \"\"\n    });\n    const user = ref({\n      username: \"\",\n      password_: \"\",\n      realname: \"\",\n      class_: \"\"\n    });\n    const tableData = ref([]);\n    const total = ref(0);\n\n    const getList = function () {\n      listUser(queryParem.value).then(res => {\n        tableData.value = res.data.content;\n        total.value = res.data.totalElements;\n        queryParem.value.size = res.data.size;\n      });\n    };\n\n    onMounted(() => {\n      getList();\n    });\n\n    const changePage = async function (current) {\n      queryParem.value.page = current - 1;\n      getList();\n    };\n\n    const submitForm = function () {\n      getList();\n    };\n\n    const resetForm = function () {\n      queryParem.value.userName = \"\";\n      queryParem.value.nickName = \"\";\n      queryParem.value.sclass = \"\";\n      queryParem.value.phonenumber = \"\";\n      queryParem.value.professional = \"\";\n      queryParem.value.email = \"\";\n    };\n\n    const addForm = function () {};\n\n    const __returned__ = {\n      queryParem,\n      user,\n      tableData,\n      total,\n      getList,\n      changePage,\n      submitForm,\n      resetForm,\n      addForm,\n      ref,\n      listUser,\n      onMounted\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n\n};","map":{"version":3,"mappings":"AAiGA,SAASA,GAAT,QAAoB,KAApB;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,SAASC,SAAT,QAA0B,KAA1B;;;;;;AAEA,UAAMC,UAAU,GAAGH,GAAG,CAAC;AACrBI,UAAI,EAAE,CADe;AAErBC,UAAI,EAAE,CAFe;AAGrBC,cAAQ,EAAE,EAHW;AAIrBC,cAAQ,EAAE,EAJW;AAKrBC,YAAM,EAAE,EALa;AAMrBC,iBAAW,EAAE,EANQ;AAOrBC,kBAAY,EAAE,EAPO;AAQrBC,WAAK,EAAE;AARc,KAAD,CAAtB;AAWA,UAAMC,IAAI,GAAGZ,GAAG,CAAC;AACfa,cAAQ,EAAE,EADK;AAEfC,eAAS,EAAE,EAFI;AAGfC,cAAQ,EAAE,EAHK;AAIfC,YAAM,EAAE;AAJO,KAAD,CAAhB;AAOA,UAAMC,SAAS,GAAGjB,GAAG,CAAC,EAAD,CAArB;AACA,UAAMkB,KAAK,GAAGlB,GAAG,CAAC,CAAD,CAAjB;;AAEA,UAAMmB,OAAO,GAAG,YAAY;AAC1BlB,cAAQ,CAACE,UAAU,CAACiB,KAAZ,CAAR,CAA2BC,IAA3B,CAAiCC,GAAD,IAAS;AACvCL,iBAAS,CAACG,KAAV,GAAkBE,GAAG,CAACC,IAAJ,CAASC,OAA3B;AACAN,aAAK,CAACE,KAAN,GAAcE,GAAG,CAACC,IAAJ,CAASE,aAAvB;AACAtB,kBAAU,CAACiB,KAAX,CAAiBhB,IAAjB,GAAwBkB,GAAG,CAACC,IAAJ,CAASnB,IAAjC;AACD,OAJD;AAKD,KAND;;AAOAF,aAAS,CAAC,MAAM;AACdiB,aAAO;AACR,KAFQ,CAAT;;AAGA,UAAMO,UAAU,GAAG,gBAAgBC,OAAhB,EAAyB;AAC1CxB,gBAAU,CAACiB,KAAX,CAAiBf,IAAjB,GAAwBsB,OAAO,GAAG,CAAlC;AACAR,aAAO;AACR,KAHD;;AAKA,UAAMS,UAAU,GAAG,YAAY;AAC7BT,aAAO;AACR,KAFD;;AAIA,UAAMU,SAAS,GAAG,YAAY;AAC5B1B,gBAAU,CAACiB,KAAX,CAAiBd,QAAjB,GAA4B,EAA5B;AACAH,gBAAU,CAACiB,KAAX,CAAiBb,QAAjB,GAA4B,EAA5B;AACAJ,gBAAU,CAACiB,KAAX,CAAiBZ,MAAjB,GAA0B,EAA1B;AACAL,gBAAU,CAACiB,KAAX,CAAiBX,WAAjB,GAA+B,EAA/B;AACAN,gBAAU,CAACiB,KAAX,CAAiBV,YAAjB,GAA8B,EAA9B;AACAP,gBAAU,CAACiB,KAAX,CAAiBT,KAAjB,GAAwB,EAAxB;AACD,KAPD;;AAQA,UAAMmB,OAAO,GAAG,YAAY,CAAE,CAA9B","names":["ref","listUser","onMounted","queryParem","size","page","userName","nickName","sclass","phonenumber","professional","email","user","username","password_","realname","class_","tableData","total","getList","value","then","res","data","content","totalElements","changePage","current","submitForm","resetForm","addForm"],"sources":["C:/Users/贺启衡/Desktop/hqh/ssm/hqh-ui/src/components/user/index.vue"],"sourcesContent":["<template>\r\n  <el-container>\r\n    <el-header>Header</el-header>\r\n    <el-main>\r\n      <el-form\r\n        :model=\"queryParem\"\r\n        label-width=\"100px\"\r\n        class=\"demo-ruleForm\"\r\n        size=\"mini\"\r\n        :inline=\"true\"\r\n      >\r\n        <el-row>\r\n          <el-col span=\"6\">\r\n            <el-form-item label=\"账号\">\r\n              <el-input v-model=\"queryParem.userName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col span=\"6\">\r\n            <el-form-item label=\"姓名\">\r\n              <el-input v-model=\"queryParem.nickName\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col span=\"6\">\r\n            <el-form-item label=\"电话号码\">\r\n              <el-input v-model=\"queryParem.phonenumber\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col span=\"6\">\r\n            <el-form-item label=\"专业\">\r\n              <el-input v-model=\"queryParem.professional\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col span=\"6\">\r\n            <el-form-item label=\"班级\">\r\n              <el-input v-model=\"queryParem.sclass\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col span=\"6\">\r\n            <el-form-item label=\"邮箱\">\r\n              <el-input v-model=\"queryParem.email\"></el-input>\r\n            </el-form-item>\r\n          </el-col>\r\n        </el-row>\r\n        <el-row >\r\n          <el-space :size=\"200\" :spacer=\"spacer\">\r\n          <el-button type=\"danger\" @click=\"addForm\" icon=\"el-icon-search\" plain\r\n            >添加\r\n          </el-button>\r\n          <el-button type=\"primary\" @click=\"submitForm\" icon=\"el-icon-search\"\r\n            >查询</el-button\r\n          >\r\n          <el-button\r\n            type=\"warning\"\r\n            @click=\"resetForm\"\r\n            icon=\"el-icon-search\"\r\n            plain\r\n            >重置</el-button\r\n          >\r\n          <el-button\r\n            type=\"success\"\r\n            @click=\"updateForm\"\r\n            icon=\"el-icon-search\"\r\n            plain\r\n            >修改</el-button\r\n          >\r\n          </el-space>\r\n          </el-row>\r\n      </el-form>\r\n      <el-table\r\n        ref=\"tableRef\"\r\n        row-key=\"username\"\r\n        :data=\"tableData\"\r\n        style=\"width: 100%\"\r\n      >\r\n        <el-table-column prop=\"userName\" label=\"账号\" />\r\n        <el-table-column prop=\"nickName\" label=\"姓名\" />\r\n        <el-table-column prop=\"professional\" label=\"专业\" />\r\n        <el-table-column prop=\"sclass\" label=\"班级\" />\r\n        <el-table-column prop=\"email\" label=\"邮箱\" />\r\n        <el-table-column prop=\"phonenumber\" label=\"电话号码\" />\r\n      </el-table>\r\n    </el-main>\r\n\r\n    <h1>这是{{ currentPage }}</h1>\r\n    <el-footer>\r\n      <el-pagination\r\n        background\r\n        layout=\"prev, pager, next\"\r\n        :total=\"total\"\r\n        :page-size=\"queryParem.size\"\r\n        @current-change=\"changePage\"\r\n      />\r\n    </el-footer>\r\n  </el-container>\r\n</template>\r\n\r\n<script  setup>\r\nimport { ref } from \"vue\";\r\nimport { listUser } from \"@/api/user.js\";\r\nimport { onMounted } from \"vue\";\r\n\r\nconst queryParem = ref({\r\n  size: 3,\r\n  page: 0,\r\n  userName: \"\",\r\n  nickName: \"\",\r\n  sclass: \"\",\r\n  phonenumber: \"\",\r\n  professional: \"\",\r\n  email: \"\",\r\n});\r\n\r\nconst user = ref({\r\n  username: \"\",\r\n  password_: \"\",\r\n  realname: \"\",\r\n  class_: \"\",\r\n});\r\n\r\nconst tableData = ref([]);\r\nconst total = ref(0);\r\n\r\nconst getList = function () {\r\n  listUser(queryParem.value).then((res) => {\r\n    tableData.value = res.data.content;\r\n    total.value = res.data.totalElements;\r\n    queryParem.value.size = res.data.size;\r\n  });\r\n};\r\nonMounted(() => {\r\n  getList();\r\n});\r\nconst changePage = async function (current) {\r\n  queryParem.value.page = current - 1;\r\n  getList();\r\n};\r\n\r\nconst submitForm = function () {\r\n  getList();\r\n};\r\n\r\nconst resetForm = function () {\r\n  queryParem.value.userName = \"\";\r\n  queryParem.value.nickName = \"\";\r\n  queryParem.value.sclass = \"\";\r\n  queryParem.value.phonenumber = \"\";\r\n  queryParem.value.professional=\"\";\r\n  queryParem.value.email= \"\";\r\n};\r\nconst addForm = function () {};\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}